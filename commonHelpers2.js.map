{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-from\");\nconst email = form.elements.email;\nconst message = form.elements.message;\nconst key = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", saveValue);\nfunction saveValue(event) {\n    const valueObj = JSON.parse(localStorage.getItem(\"feedback-form-state\")) || {};\n    const value = event.target.value;\n    valueObj[event.target.name] = value.trim();\n    localStorage.setItem(key, JSON.stringify(valueObj));\n}\nif (localStorage.getItem(key)) {\n    setPreviousValue();\n}\n\nfunction setPreviousValue() {\n    const previousValues = JSON.parse(\n        localStorage.getItem(\"feedback-form-state\")\n    );\n    const previousEmail = previousValues.email;\n    const previousMessage = previousValues.message;\n    email.value = previousEmail || ``;\n    message.value = previousMessage || ``;\n}\n\nform.addEventListener(\"submit\", formSubmit);\nfunction formSubmit(event) {\n    if (email.value.trim() && message.value.trim()) {\n        event.preventDefault();\n        console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")));\n        event.currentTarget.reset();\n        localStorage.removeItem(\"feedback-form-state\");\n    } else {\n        alert(\"Fill in all the fields of the form\")\n    }\n}"],"names":["form","email","message","key","saveValue","event","valueObj","value","setPreviousValue","previousValues","previousEmail","previousMessage","formSubmit"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,SAAS,MACtBE,EAAUF,EAAK,SAAS,QACxBG,EAAM,sBAGZH,EAAK,iBAAiB,QAASI,CAAS,EACxC,SAASA,EAAUC,EAAO,CACtB,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GACtEC,EAAQF,EAAM,OAAO,MAC3BC,EAASD,EAAM,OAAO,IAAI,EAAIE,EAAM,OACpC,aAAa,QAAQJ,EAAK,KAAK,UAAUG,CAAQ,CAAC,CACtD,CACI,aAAa,QAAQH,CAAG,GACxBK,IAGJ,SAASA,GAAmB,CACxB,MAAMC,EAAiB,KAAK,MACxB,aAAa,QAAQ,qBAAqB,CAClD,EACUC,EAAgBD,EAAe,MAC/BE,EAAkBF,EAAe,QACvCR,EAAM,MAAQS,GAAiB,GAC/BR,EAAQ,MAAQS,GAAmB,EACvC,CAEAX,EAAK,iBAAiB,SAAUY,CAAU,EAC1C,SAASA,EAAWP,EAAO,CACnBJ,EAAM,MAAM,KAAI,GAAMC,EAAQ,MAAM,QACpCG,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EACnEA,EAAM,cAAc,QACpB,aAAa,WAAW,qBAAqB,GAE7C,MAAM,oCAAoC,CAElD"}